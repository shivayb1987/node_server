{"version":3,"sources":["../../../src/routes/middleware/login.js"],"names":["authMiddleware","req","res","next","debug","path","nonSecurePaths","indexOf","user","redirect","module","exports"],"mappings":";;AAAA;;;;;;AAEA,IAAMA,iBAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC;AACA,mBAAOC,KAAP,CAAa,uBAAb,EAAsCH,IAAII,IAA1C;AACA,MAAMC,iBAAiB,CAAC,QAAD,CAAvB;AACA,MAAIA,eAAeC,OAAf,CAAuBN,IAAII,IAA3B,IAAmC,CAAC,CAAxC,EAA2C;AACzCF;AACA;AACD,GAHD,MAGO,IAAIF,IAAIO,IAAR,EAAc;AACnB;AACAL;AACA;AACD;AACD;AACAD,MAAIO,QAAJ,CAAa,QAAb;AACD,CAdD;;AAgBAC,OAAOC,OAAP,GAAiBX,cAAjB","file":"login.js","sourcesContent":["import logger from '../../logger';\r\n\r\nconst authMiddleware = (req, res, next) => {\r\n  // do any checks you want to in here\r\n  logger.debug('Inside authMiddleware', req.path);\r\n  const nonSecurePaths = ['/login'];\r\n  if (nonSecurePaths.indexOf(req.path) > -1) {\r\n    next();\r\n    return;\r\n  } else if (req.user) {\r\n    // you can do this however you want with whatever variables you set up\r\n    next();\r\n    return;\r\n  }\r\n  // IF A USER ISN'T LOGGED IN, THEN REDIRECT THEM SOMEWHERE\r\n  res.redirect('/login');\r\n};\r\n\r\nmodule.exports = authMiddleware;\r\n"]}